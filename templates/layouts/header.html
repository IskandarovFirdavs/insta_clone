{% load static %}

<!-- Desktop Sidebar Navigation -->
<div style="
    display: flex;
    flex-direction: column;
    height: 100%;
    padding: 8px 12px 20px;
">
    <!-- Logo Section -->
    <div style="
        padding: 25px 12px 16px;
        margin-bottom: 19px;
    ">
        <a href="{% url 'home' %}" style="
            display: block;
            text-decoration: none;
        ">
            <img src="{% static 'img/instagram-text-logo.png' %}"
                 alt="Instagram"
                 style="height: 29px; width: auto;">
        </a>
    </div>

    <!-- Navigation Menu -->
    <nav style="
        flex: 1;
        display: flex;
        flex-direction: column;
        gap: 4px;
    ">
        <a href="{% url 'home' %}" style="
            display: flex;
            align-items: center;
            gap: 16px;
            padding: 12px;
            color: #fff;
            text-decoration: none;
            border-radius: 8px;
            transition: background-color 0.2s ease;
            font-size: 16px;
            font-weight: 400;
            {% if request.resolver_match.url_name == 'home' %}
                font-weight: 700;
            {% endif %}
        " onmouseover="this.style.backgroundColor='#1a1a1a'"
           onmouseout="this.style.backgroundColor='transparent'">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
                <path d="M9.005 16.545a2.997 2.997 0 0 1 2.997-2.997A2.997 2.997 0 0 1 15 16.545V22h7V11.543L12 2 2 11.543V22h7.005Z"/>
            </svg>
            <span>Home</span>
        </a>

        <a href="{% url 'search' %}" style="
            display: flex;
            align-items: center;
            gap: 16px;
            padding: 12px;
            color: #fff;
            text-decoration: none;
            border-radius: 8px;
            transition: background-color 0.2s ease;
            font-size: 16px;
            font-weight: 400;
            {% if request.resolver_match.url_name == 'search' %}
                font-weight: 700;
            {% endif %}
        " onmouseover="this.style.backgroundColor='#1a1a1a'"
           onmouseout="this.style.backgroundColor='transparent'">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <circle cx="11" cy="11" r="8"/>
                <path d="m21 21-4.35-4.35"/>
            </svg>
            <span>Search</span>
        </a>

        <a href="{% url 'explore' %}" style="
            display: flex;
            align-items: center;
            gap: 16px;
            padding: 12px;
            color: #fff;
            text-decoration: none;
            border-radius: 8px;
            transition: background-color 0.2s ease;
            font-size: 16px;
            font-weight: 400;
            {% if request.resolver_match.url_name == 'explore' %}
                font-weight: 700;
            {% endif %}
        " onmouseover="this.style.backgroundColor='#1a1a1a'"
           onmouseout="this.style.backgroundColor='transparent'">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <polygon points="3 11 22 2 13 21 11 13 3 11"/>
            </svg>
            <span>Explore</span>
        </a>

        <a href="{% url 'reels' %}" style="
            display: flex;
            align-items: center;
            gap: 16px;
            padding: 12px;
            color: #fff;
            text-decoration: none;
            border-radius: 8px;
            transition: background-color 0.2s ease;
            font-size: 16px;
            font-weight: 400;
            {% if request.resolver_match.url_name == 'reels' %}
                font-weight: 700;
            {% endif %}
        " onmouseover="this.style.backgroundColor='#1a1a1a'"
           onmouseout="this.style.backgroundColor='transparent'">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <rect x="2" y="3" width="20" height="14" rx="2" ry="2"/>
                <line x1="8" y1="21" x2="16" y2="21"/>
                <line x1="12" y1="17" x2="12" y2="21"/>
            </svg>
            <span>Reels</span>
        </a>

        <a href="{% url 'messages' %}" style="
            display: flex;
            align-items: center;
            gap: 16px;
            padding: 12px;
            color: #fff;
            text-decoration: none;
            border-radius: 8px;
            transition: background-color 0.2s ease;
            font-size: 16px;
            font-weight: 400;
            position: relative;
            {% if request.resolver_match.url_name == 'messages' %}
                font-weight: 700;
            {% endif %}
        " onmouseover="this.style.backgroundColor='#1a1a1a'"
           onmouseout="this.style.backgroundColor='transparent'">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"/>
            </svg>
            <span>Messages</span>
            <span style="
                position: absolute;
                top: 8px;
                right: 8px;
                background-color: #ff3040;
                color: #fff;
                border-radius: 50%;
                width: 20px;
                height: 20px;
                display: flex;
                align-items: center;
                justify-content: center;
                font-size: 12px;
                font-weight: 600;
            ">8</span>
        </a>

        <a href="{% url 'notifications' %}" style="
            display: flex;
            align-items: center;
            gap: 16px;
            padding: 12px;
            color: #fff;
            text-decoration: none;
            border-radius: 8px;
            transition: background-color 0.2s ease;
            font-size: 16px;
            font-weight: 400;
            position: relative;
            {% if request.resolver_match.url_name == 'notifications' %}
                font-weight: 700;
            {% endif %}
        " onmouseover="this.style.backgroundColor='#1a1a1a'"
           onmouseout="this.style.backgroundColor='transparent'">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"/>
            </svg>
            <span>Notifications</span>
            <span style="
                position: absolute;
                top: 8px;
                right: 8px;
                background-color: #ff3040;
                color: #fff;
                border-radius: 50%;
                width: 20px;
                height: 20px;
                display: flex;
                align-items: center;
                justify-content: center;
                font-size: 12px;
                font-weight: 600;
            ">1</span>
        </a>

        <a href="{% url 'create' %}" style="
            display: flex;
            align-items: center;
            gap: 16px;
            padding: 12px;
            color: #fff;
            text-decoration: none;
            border-radius: 8px;
            transition: background-color 0.2s ease;
            font-size: 16px;
            font-weight: 400;
            {% if request.resolver_match.url_name == 'create' %}
                font-weight: 700;
            {% endif %}
        " onmouseover="this.style.backgroundColor='#1a1a1a'"
           onmouseout="this.style.backgroundColor='transparent'">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <rect x="3" y="3" width="18" height="18" rx="2" ry="2"/>
                <line x1="9" y1="12" x2="15" y2="12"/>
                <line x1="12" y1="9" x2="12" y2="15"/>
            </svg>
            <span>Create</span>
        </a>

        {% if user.is_authenticated %}
        <a href="{% url 'profile' user.username %}" style="
            display: flex;
            align-items: center;
            gap: 16px;
            padding: 12px;
            color: #fff;
            text-decoration: none;
            border-radius: 8px;
            transition: background-color 0.2s ease;
            font-size: 16px;
            font-weight: 400;
            {% if request.resolver_match.url_name == 'profile' %}
                font-weight: 700;
            {% endif %}
        " onmouseover="this.style.backgroundColor='#1a1a1a'"
           onmouseout="this.style.backgroundColor='transparent'">
            <div style="
                width: 24px;
                height: 24px;
                border-radius: 50%;
                overflow: hidden;
                border: 2px solid #262626;
            ">
                <img src="{{ user.profile.avatar.url|default:'/static/img/default-avatar.png' }}"
                     alt="Profile"
                     style="width: 100%; height: 100%; object-fit: cover;">
            </div>
            <span>Profile</span>
        </a>
        {% else %}

        <a href="{% url 'create' %}" style="
            display: flex;
            align-items: center;
            gap: 16px;
            padding: 12px;
            color: #fff;
            text-decoration: none;
            border-radius: 8px;
            transition: background-color 0.2s ease;
            font-size: 16px;
            font-weight: 400;
            {% if request.resolver_match.url_name == 'create' %}
                font-weight: 700;
            {% endif %}
        " onmouseover="this.style.backgroundColor='#1a1a1a'"
           onmouseout="this.style.backgroundColor='transparent'">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <rect x="3" y="3" width="18" height="18" rx="2" ry="2"/>
                <line x1="9" y1="12" x2="15" y2="12"/>
                <line x1="12" y1="9" x2="12" y2="15"/>
            </svg>
            <span>Profile</span>
        </a>
        {% endif %}
    </nav>


</div>
